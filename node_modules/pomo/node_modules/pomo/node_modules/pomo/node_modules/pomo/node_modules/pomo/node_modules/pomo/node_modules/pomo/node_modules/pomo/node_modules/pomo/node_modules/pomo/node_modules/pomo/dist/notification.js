window.onload=()=>{fetch("due-tasks").then((e=>e.json())).then((e=>{let t=document.getElementById("notify");if(document.querySelector(".n-num").textContent=e.length,e.length<1){let e='\n                <div class=\'ab-text\'>\n                    No Notifications <span class="ab-icon"><i class="fa-solid fa-bell"></i></i></span>\n                </div>\n            ';t.innerHTML=e}else e.forEach((e=>{const n=e.completed?"completed":"Not completed";t.innerHTML+=`\n                    <div class="notify-box">\n                        <div class="n-title">\n                            <li>${e.title} is</li>\n                        </div>\n                        <div class="n-box">\n                            This Task is Due and it is ${n} Delete if no longer relevant <br> \n                            <button class="n-del" data-task-id="${e._id}">Delete</button>\n                        </div>\n                    </div>\n                `}));document.querySelectorAll(".n-del").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.getAttribute("data-task-id");fetch(`delete-task/${t}`,{method:"DELETE"}).then((e=>e.json())).then((e=>{window.location.reload()})).catch((e=>console.log(e.message)))}))}))})).catch((e=>console.log(e.message)))};